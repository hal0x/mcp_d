# Changelog

ะัะต ะทะฝะฐัะธะผัะต ะธะทะผะตะฝะตะฝะธั ะฟัะพะตะบัะฐ ะดะพะบัะผะตะฝัะธัััััั ะฒ ััะพะผ ัะฐะนะปะต.

## [Unreleased]

## [2.0.0] - 2025-01-XX

### ะฃะดะฐะปะตะฝะพ ๐๏ธ

#### ะฃะดะฐะปะตะฝะธะต deprecated ะธะฝััััะผะตะฝัะพะฒ (Breaking Change)

**ะฃะดะฐะปะตะฝั ัะปะตะดัััะธะต deprecated ะธะฝััััะผะตะฝัั:**
- `ingest_records` โ ะธัะฟะพะปัะทัะนัะต `ingest` ั `source_type='records'`
- `ingest_scraped_content` โ ะธัะฟะพะปัะทัะนัะต `ingest` ั `source_type='scraped'`
- `search_memory` โ ะธัะฟะพะปัะทัะนัะต `search` ั `search_type='hybrid'`
- `smart_search` โ ะธัะฟะพะปัะทัะนัะต `search` ั `search_type='smart'`
- `search_by_embedding` โ ะธัะฟะพะปัะทัะนัะต `search` ั `search_type='embedding'`
- `similar_records` โ ะธัะฟะพะปัะทัะนัะต `search` ั `search_type='similar'`
- `batch_update_records` โ ะธัะฟะพะปัะทัะนัะต `batch_operations` ั `operation='update'`
- `batch_delete_records` โ ะธัะฟะพะปัะทัะนัะต `batch_operations` ั `operation='delete'`
- `batch_fetch_records` โ ะธัะฟะพะปัะทัะนัะต `batch_operations` ั `operation='fetch'`
- `get_graph_neighbors` โ ะธัะฟะพะปัะทัะนัะต `graph_query` ั `query_type='neighbors'`
- `find_graph_path` โ ะธัะฟะพะปัะทัะนัะต `graph_query` ั `query_type='path'`
- `get_related_records` โ ะธัะฟะพะปัะทัะนัะต `graph_query` ั `query_type='related'`
- `start_background_indexing` โ ะธัะฟะพะปัะทัะนัะต `background_indexing` ั `action='start'`
- `stop_background_indexing` โ ะธัะฟะพะปัะทัะนัะต `background_indexing` ั `action='stop'`
- `get_background_indexing_status` โ ะธัะฟะพะปัะทัะนัะต `background_indexing` ั `action='status'`
- `update_summaries` โ ะธัะฟะพะปัะทัะนัะต `summaries` ั `action='update'`
- `review_summaries` โ ะธัะฟะพะปัะทัะนัะต `summaries` ั `action='review'`
- `get_tags_statistics` โ ะธัะฟะพะปัะทัะนัะต `get_statistics` ั `type='tags'`
- `get_indexing_progress` โ ะธัะฟะพะปัะทัะนัะต `get_statistics` ั `type='indexing'`

**ะะตะทัะปััะฐัั:**
- ะะพะปะธัะตััะฒะพ ะธะฝััััะผะตะฝัะพะฒ: 32 โ 22 (ัะพะบัะฐัะตะฝะธะต ะฝะฐ ~30%)
- ะฃะฟัะพัะตะฝะฝัะน API ั ัะฝะธะฒะตััะฐะปัะฝัะผะธ ะธะฝััััะผะตะฝัะฐะผะธ
- ะฃะปัััะตะฝะฝัะน ะฒัะฑะพั ะธะฝััััะผะตะฝัะพะฒ ะดะปั LLM

**ะะธะณัะฐัะธั:**
ะัะต ััะฐััะต ะธะฝััััะผะตะฝัั ะฑัะปะธ ะฟะพะผะตัะตะฝั ะบะฐะบ deprecated ะฒ ะฒะตััะธะธ 1.1.0. ะะปั ะผะธะณัะฐัะธะธ ะธัะฟะพะปัะทัะนัะต ะฝะพะฒัะต ัะฝะธะฒะตััะฐะปัะฝัะต ะธะฝััััะผะตะฝัั ัะพะณะปะฐัะฝะพ ัะฐะฑะปะธัะต ะฒััะต.

**ะคะฐะนะปั:**
- `src/memory_mcp/mcp/server.py` โ ัะดะฐะปะตะฝั deprecated ะธะฝััััะผะตะฝัั ะธะท `list_tools()` ะธ `call_tool()`
- `pyproject.toml` โ ะพะฑะฝะพะฒะปะตะฝะฐ ะฒะตััะธั ะดะพ 2.0.0

## [1.1.0] - 2025-01-XX

### ะะพะฑะฐะฒะปะตะฝะพ โจ

#### ะะฟัะธะผะธะทะฐัะธั ะธะฝััััะผะตะฝัะพะฒ MCP ัะตัะฒะตัะฐ (2025-01-XX)

**ะะพะฒัะต ัะฝะธะฒะตััะฐะปัะฝัะต ะธะฝััััะผะตะฝัั:**
- **`search`** โ ัะฝะธะฒะตััะฐะปัะฝัะน ะธะฝััััะผะตะฝั ะฟะพะธัะบะฐ, ะพะฑัะตะดะธะฝัััะธะน:
  - `search_memory` (hybrid search)
  - `smart_search` (LLM-assisted search)
  - `search_by_embedding` (vector search)
  - `similar_records` (similarity search)
  - `search_trading_patterns` (trading patterns search)
- **`batch_operations`** โ ัะฝะธะฒะตััะฐะปัะฝัะน ะธะฝััััะผะตะฝั ะดะปั batch ะพะฟะตัะฐัะธะน:
  - `batch_update_records` (update)
  - `batch_delete_records` (delete)
  - `batch_fetch_records` (fetch)
- **`graph_query`** โ ัะฝะธะฒะตััะฐะปัะฝัะน ะธะฝััััะผะตะฝั ะทะฐะฟัะพัะพะฒ ะบ ะณัะฐัั:
  - `get_graph_neighbors` (neighbors)
  - `find_graph_path` (path)
  - `get_related_records` (related)
- **`background_indexing`** โ ัะฝะธะฒะตััะฐะปัะฝัะน ะธะฝััััะผะตะฝั ัะฟัะฐะฒะปะตะฝะธั ัะพะฝะพะฒะพะน ะธะฝะดะตะบัะฐัะธะตะน:
  - `start_background_indexing` (start)
  - `stop_background_indexing` (stop)
  - `get_background_indexing_status` (status)
- **`summaries`** โ ัะฝะธะฒะตััะฐะปัะฝัะน ะธะฝััััะผะตะฝั ัะฟัะฐะฒะปะตะฝะธั ัะฐะผะผะฐัะธะทะฐัะธะตะน:
  - `update_summaries` (update)
  - `review_summaries` (review)
- **`ingest`** โ ัะฐััะธัะตะฝะฝัะน ะธะฝััััะผะตะฝั ะธะฝะดะตะบัะฐัะธะธ:
  - `ingest_records` (source_type='records')
  - `ingest_scraped_content` (source_type='scraped')
- **`get_statistics`** โ ัะฐััะธัะตะฝะฝัะน ะธะฝััััะผะตะฝั ััะฐัะธััะธะบะธ ั ะฟะพะดะดะตัะถะบะพะน ัะธะปัััะฐัะธะธ:
  - `get_statistics` (type='general')
  - `get_tags_statistics` (type='tags')
  - `get_indexing_progress` (type='indexing')

**ะะฑัะฐัะฝะฐั ัะพะฒะผะตััะธะผะพััั:**
- ะัะต ััะฐััะต ะธะฝััััะผะตะฝัั ะฟะพะผะตัะตะฝั ะบะฐะบ `[DEPRECATED]` ะฒ ะพะฟะธัะฐะฝะธัั
- ะกัะฐััะต ะธะฝััััะผะตะฝัั ะฟัะพะดะพะปะถะฐัั ัะฐะฑะพัะฐัั ะธ ะปะพะณะธัััั ะฟัะตะดัะฟัะตะถะดะตะฝะธั
- ะะปะฐะฝ ัะดะฐะปะตะฝะธั deprecated ะธะฝััััะผะตะฝัะพะฒ: ะฒะตััะธั 2.0.0

**ะะตะทัะปััะฐัั ะพะฟัะธะผะธะทะฐัะธะธ:**
- ะะพะปะธัะตััะฒะพ ะฐะบัะธะฒะฝัั ะธะฝััััะผะตะฝัะพะฒ: 32 โ 22 (ัะพะบัะฐัะตะฝะธะต ะฝะฐ ~30%)
- ะฃะปัััะตะฝะฝะฐั ะณััะฟะฟะธัะพะฒะบะฐ ะปะพะณะธัะตัะบะธ ัะฒัะทะฐะฝะฝัั ะพะฟะตัะฐัะธะน
- ะฃะฟัะพัะตะฝะฝัะน ะฒัะฑะพั ะดะปั LLM (ะผะตะฝััะต ะฒะฐัะธะฐะฝัะพะฒ ะดะปั ะฒัะฑะพัะฐ)
- ะะพะปะฝะฐั ะพะฑัะฐัะฝะฐั ัะพะฒะผะตััะธะผะพััั ัะตัะตะท deprecated ะฐะปะธะฐัั

**ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ:**
- ะะพะฑะฐะฒะปะตะฝั ะฝะพะฒัะต ัะฝะธะฒะตััะฐะปัะฝัะต ััะตะผั ะฒ `schema.py`:
  - `UnifiedSearchRequest/Response`
  - `BatchOperationsRequest/Response`
  - `GraphQueryRequest/Response`
  - `BackgroundIndexingRequest/Response`
  - `SummariesRequest/Response`
  - ะะฐััะธัะตะฝ `IngestRequest` ะดะปั ะฟะพะดะดะตัะถะบะธ `source_type`
  - ะะฐััะธัะตะฝ `GetStatisticsRequest` ะดะปั ะฟะพะดะดะตัะถะบะธ `type`
- ะะตะฐะปะธะทะพะฒะฐะฝั ัะฝะธะฒะตััะฐะปัะฝัะต ะผะตัะพะดั ะฒ `adapters.py`:
  - `unified_search()`
  - `batch_operations()`
  - `graph_query()`
  - `summaries()`
  - `ingest_unified()`
  - `get_statistics_unified()`
- ะะฑะฝะพะฒะปะตะฝะฐ ัะตะณะธัััะฐัะธั ะธะฝััััะผะตะฝัะพะฒ ะฒ `server.py`:
  - ะะพะฑะฐะฒะปะตะฝั ะฝะพะฒัะต ัะฝะธะฒะตััะฐะปัะฝัะต ะธะฝััััะผะตะฝัั
  - ะะพะฑะฐะฒะปะตะฝั deprecated ะฐะปะธะฐัั ั ะปะพะณะธัะพะฒะฐะฝะธะตะผ ะฟัะตะดัะฟัะตะถะดะตะฝะธะน
  - ะะฑะฝะพะฒะปะตะฝ ัะฟะธัะพะบ features ะฒ `get_version_payload()`

**ะคะฐะนะปั:**
- `src/memory_mcp/mcp/schema.py` โ ะดะพะฑะฐะฒะปะตะฝั ัะฝะธะฒะตััะฐะปัะฝัะต ััะตะผั
- `src/memory_mcp/mcp/adapters.py` โ ัะตะฐะปะธะทะพะฒะฐะฝั ัะฝะธะฒะตััะฐะปัะฝัะต ะผะตัะพะดั
- `src/memory_mcp/mcp/server.py` โ ะพะฑะฝะพะฒะปะตะฝะฐ ัะตะณะธัััะฐัะธั ะธะฝััััะผะตะฝัะพะฒ
- `pyproject.toml` โ ะพะฑะฝะพะฒะปะตะฝะฐ ะฒะตััะธั ะดะพ 1.1.0

### ะะทะผะตะฝะตะฝะพ ๐

- ะัะต ััะฐััะต ะธะฝััััะผะตะฝัั ะฟะพะผะตัะตะฝั ะบะฐะบ `[DEPRECATED]` ะฒ ะพะฟะธัะฐะฝะธัั
- ะะพะฑะฐะฒะปะตะฝะพ ะปะพะณะธัะพะฒะฐะฝะธะต ะฟัะตะดัะฟัะตะถะดะตะฝะธะน ะฟัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ deprecated ะธะฝััััะผะตะฝัะพะฒ
- ะะฑะฝะพะฒะปะตะฝ ัะฟะธัะพะบ features ะฒ `get_version_payload()` ะดะปั ะฒะบะปััะตะฝะธั ะฝะพะฒัั ะธะฝััััะผะตะฝัะพะฒ

### ะฃััะฐัะตะปะพ โ๏ธ

ะกะปะตะดัััะธะต ะธะฝััััะผะตะฝัั ะฟะพะผะตัะตะฝั ะบะฐะบ deprecated ะธ ะฑัะดัั ัะดะฐะปะตะฝั ะฒ ะฒะตััะธะธ 2.0.0:
- `ingest_records` โ ะธัะฟะพะปัะทัะนัะต `ingest` ั `source_type='records'`
- `ingest_scraped_content` โ ะธัะฟะพะปัะทัะนัะต `ingest` ั `source_type='scraped'`
- `search_memory` โ ะธัะฟะพะปัะทัะนัะต `search` ั `search_type='hybrid'`
- `smart_search` โ ะธัะฟะพะปัะทัะนัะต `search` ั `search_type='smart'`
- `search_by_embedding` โ ะธัะฟะพะปัะทัะนัะต `search` ั `search_type='embedding'`
- `similar_records` โ ะธัะฟะพะปัะทัะนัะต `search` ั `search_type='similar'`
- `batch_update_records` โ ะธัะฟะพะปัะทัะนัะต `batch_operations` ั `operation='update'`
- `batch_delete_records` โ ะธัะฟะพะปัะทัะนัะต `batch_operations` ั `operation='delete'`
- `batch_fetch_records` โ ะธัะฟะพะปัะทัะนัะต `batch_operations` ั `operation='fetch'`
- `get_graph_neighbors` โ ะธัะฟะพะปัะทัะนัะต `graph_query` ั `query_type='neighbors'`
- `find_graph_path` โ ะธัะฟะพะปัะทัะนัะต `graph_query` ั `query_type='path'`
- `get_related_records` โ ะธัะฟะพะปัะทัะนัะต `graph_query` ั `query_type='related'`
- `start_background_indexing` โ ะธัะฟะพะปัะทัะนัะต `background_indexing` ั `action='start'`
- `stop_background_indexing` โ ะธัะฟะพะปัะทัะนัะต `background_indexing` ั `action='stop'`
- `get_background_indexing_status` โ ะธัะฟะพะปัะทัะนัะต `background_indexing` ั `action='status'`
- `update_summaries` โ ะธัะฟะพะปัะทัะนัะต `summaries` ั `action='update'`
- `review_summaries` โ ะธัะฟะพะปัะทัะนัะต `summaries` ั `action='review'`
- `get_tags_statistics` โ ะธัะฟะพะปัะทัะนัะต `get_statistics` ั `type='tags'`
- `get_indexing_progress` โ ะธัะฟะพะปัะทัะนัะต `get_statistics` ั `type='indexing'`

## [Unreleased]

### ะะพะฑะฐะฒะปะตะฝะพ โจ

#### ะะฝััััะผะตะฝั index_chat ะดะปั MCP ัะตัะฒะตัะฐ (2025-01-09)

**ะะพะฒะฐั ััะฝะบัะธะพะฝะฐะปัะฝะพััั:**
- **index_chat** - ะฝะพะฒัะน ะธะฝััััะผะตะฝั MCP ะดะปั ะธะฝะดะตะบัะฐัะธะธ ะบะพะฝะบัะตัะฝัั ัะฐัะพะฒ
- **ะััะปะตะถะธะฒะฐะฝะธะต ะฟัะพะณัะตััะฐ** ะธะฝะดะตะบัะฐัะธะธ ั ะฟะพะดัะพะฑะฝัะผ ะปะพะณะธัะพะฒะฐะฝะธะตะผ
- **ะะตัะตัะพะทะดะฐะฝะธะต ะฐััะตัะฐะบัะพะฒ** ะฟะพ ะทะฐะฟัะพัั ั ะฝะฐัััะฐะธะฒะฐะตะผัะผะธ ะฟะฐัะฐะผะตััะฐะผะธ
- **ะะฝะบัะตะผะตะฝัะฐะปัะฝะฐั ะธะฝะดะตะบัะฐัะธั** ัะพะปัะบะพ ะฝะพะฒัั ัะพะพะฑัะตะฝะธะน
- **ะะพะปะฝะฐั ะฟะตัะตะธะฝะดะตะบัะฐัะธั** ั ะฟะตัะตัะพะทะดะฐะฝะธะตะผ ะฒัะตั ะฐััะตัะฐะบัะพะฒ
- **ะะธะฑะบะธะต ะฟะฐัะฐะผะตััั** ะณััะฟะฟะธัะพะฒะบะธ ะธ ะบะปะฐััะตัะธะทะฐัะธะธ ัะตััะธะน
- **ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ** ั ะดะตัะฐะปัะฝะพะน ะธะฝัะพัะผะฐัะธะตะน ะพะฑ ะพัะธะฑะบะฐั
- **ะะฝัะตะณัะฐัะธั ั TwoLevelIndexer** ะดะปั ะฟะพะปะฝะพะน ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ
- **ะขะตััะธัะพะฒะฐะฝะธะต** ะธ ะฟัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- **ะะพะบัะผะตะฝัะฐัะธั** ะฟะพ ะฝะพะฒะพะผั ะธะฝััััะผะตะฝัั

**ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ:**
- ะะพะฑะฐะฒะปะตะฝ ะธะผะฟะพัั `TwoLevelIndexer` ะฒ MCP ัะตัะฒะตั
- ะะตะฐะปะธะทะพะฒะฐะฝ ะผะตัะพะด `_index_chat()` ั ะฟะพะปะฝะพะน ะฒะฐะปะธะดะฐัะธะตะน
- ะะพะดะดะตัะถะบะฐ ะฒัะตั ะฟะฐัะฐะผะตััะพะฒ ะธะฝะดะตะบัะฐัะธะธ (clustering, smart_aggregation, etc.)
- ะะพะทะฒัะฐั ะฟะพะดัะพะฑะฝะพะน ััะฐัะธััะธะบะธ ะธ ะธะฝัะพัะผะฐัะธะธ ะพะฑ ะฐััะตัะฐะบัะฐั
- ะะพััะตะบัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะฝะตัััะตััะฒัััะธั ัะฐัะพะฒ ะธ ัะฐะนะปะพะฒ

**ะคะฐะนะปั:**
- `scripts/mcp_server.py` - ะดะพะฑะฐะฒะปะตะฝ ะฝะพะฒัะน ะธะฝััััะผะตะฝั ะธ ะพะฑัะฐะฑะพััะธะบ
- `test_index_chat_tool.py` - ัะตััั ะดะปั ะฝะพะฒะพะณะพ ะธะฝััััะผะตะฝัะฐ
- `examples/index_chat_example.py` - ะฟัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- `docs/INDEX_CHAT_TOOL.md` - ะฟะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- `README.md` - ะพะฑะฝะพะฒะปะตะฝะฐ ะธะฝัะพัะผะฐัะธั ะพ MCP ะธะฝััััะผะตะฝัะฐั

#### ะะฐััะธัะตะฝะฝัะน ะบะพะฝัะตะบัั ะฟัะธ ะดะพะธะฝะดะตะบัะฐัะธะธ (2025-10-06)

**ะะพะฒะฐั ััะฝะบัะธะพะฝะฐะปัะฝะพััั:**
- **IncrementalContextManager** - ะบะปะฐัั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะฐััะธัะตะฝะฝัะผ ะบะพะฝัะตะบััะพะผ ะฟัะธ ะดะพะธะฝะดะตะบัะฐัะธะธ
- **ะะฒัะพะผะฐัะธัะตัะบะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ัะฐััะธัะตะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ** ะดะปั ัะตััะธะน ั ะผะตะฝะตะต ัะตะผ 20 ัะพะพะฑัะตะฝะธัะผะธ
- **ะะฐะณััะทะบะฐ ะฟัะตะดัะดััะธั ัะพะพะฑัะตะฝะธะน** ะธะท ChromaDB ะทะฐ ะฟะพัะปะตะดะฝะธะต 24 ัะฐัะฐ
- **ะะฝัะตะณัะฐัะธั ะณะปะพะฑะฐะปัะฝะพะณะพ ะบะพะฝัะตะบััะฐ ัะฐัะฐ** ะฒ ัะฐะผะผะฐัะธะทะฐัะธั
- **ะะฐะณััะทะบะฐ ะฟัะตะดัะดััะธั ัะตััะธะน** ะดะปั ะปัััะตะณะพ ะฟะพะฝะธะผะฐะฝะธั ะบะพะฝัะตะบััะฐ
- **ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะฝัะตะบััะฐ ะดะปั ะฟัะพะผะฟัะพะฒ** ั ะพะณัะฐะฝะธัะตะฝะธะตะผ ัะฐะทะผะตัะฐ
- **ะะฑะฝะพะฒะปะตะฝะฝัะต ะฟัะพะผะฟัั ัะฐะผะผะฐัะธะทะฐัะธะธ** ั ะฟะพะดะดะตัะถะบะพะน ัะฐััะธัะตะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ
- **ะะพะผะฟะปะตะบัะฝัะต ัะตััั** ะดะปั ะฝะพะฒะพะน ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ
- **ะะพะบัะผะตะฝัะฐัะธั** ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะฐััะธัะตะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ

**ะฃะปัััะตะฝะธั:**
- **ะะฐัะตััะฒะพ ัะฐะผะผะฐัะธะทะฐัะธะธ ะผะฐะปัั ัะตััะธะน** ะทะฐ ััะตั ะดะพะฟะพะปะฝะธัะตะปัะฝะพะณะพ ะบะพะฝัะตะบััะฐ
- **ะกะฒัะทะฝะพััั ัะฐะผะผะฐัะธะทะฐัะธะน** ั ะฟัะตะดัะดััะธะผะธ ะพะฑััะถะดะตะฝะธัะผะธ
- **ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต** ะฝะตะพะฑัะพะดะธะผะพััะธ ัะฐััะธัะตะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ
- **ะะธะฑะบะฐั ะบะพะฝัะธะณััะฐัะธั** ะฟะฐัะฐะผะตััะพะฒ ะบะพะฝัะตะบััะฐ

**ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ:**
- ะะฝัะตะณัะฐัะธั `IncrementalContextManager` ะฒ `SessionSummarizer`
- ะะฑะฝะพะฒะปะตะฝะธะต ะผะตัะพะดะฐ `_create_summarization_prompt` ะดะปั ะฟะพะดะดะตัะถะบะธ ัะฐััะธัะตะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ
- ะะตะทะพะฟะฐัะฝะฐั ะธะฝะธัะธะฐะปะธะทะฐัะธั ChromaDB ะบะพะปะปะตะบัะธะน ั ะพะฑัะฐะฑะพัะบะพะน ะพัะธะฑะพะบ
- ะะณัะฐะฝะธัะตะฝะธะต ัะฐะทะผะตัะฐ ะบะพะฝัะตะบััะฐ ะดะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั ะฟะตัะตะฟะพะปะฝะตะฝะธั ะฟัะพะผะฟัะพะฒ

**ะคะฐะนะปั:**
- `src/memory_mcp/analysis/incremental_context_manager.py` - ะฝะพะฒัะน ะผะพะดัะปั
- `src/memory_mcp/analysis/session_summarizer.py` - ะพะฑะฝะพะฒะปะตะฝ ะดะปั ะฟะพะดะดะตัะถะบะธ ัะฐััะธัะตะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ
- `tests/test_incremental_context_simple.py` - ัะตััั ะฝะพะฒะพะน ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ
- `docs/INCREMENTAL_CONTEXT_GUIDE.md` - ะดะพะบัะผะตะฝัะฐัะธั

### ะัะฟัะฐะฒะปะตะฝะพ ๐

#### ะัะฟัะฐะฒะปะตะฝะธั ะฟะพ ัะตะทัะปััะฐัะฐะผ ะฐัะดะธัะฐ ะฟัะพะตะบัะฐ (2025-01-XX)

**ะัะพะฑะปะตะผั:**
- ะะตัะพะพัะฒะตัััะฒะธะต ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั ะดะปั ัะผะฑะตะดะดะธะฝะณะพะฒ: ะดะพะบัะผะตะฝัะฐัะธั ัะบะฐะทัะฒะฐะปะฐ ะฝะฐ `LMSTUDIO_HOST/PORT/MODEL`, ะฝะพ MCP ัะตัะฒะตั ะธัะฟะพะปัะทะพะฒะฐะป ัะพะปัะบะพ `EMBEDDINGS_URL`
- ะััััััะฒะธะต docker-compose ัะฐะนะปะฐ ะฒ ะฟัะพะตะบัะต: ะดะพะบัะผะตะฝัะฐัะธั ัััะปะฐะปะฐัั ะฝะฐ ะฝะตัััะตััะฒัััะธะน ัะฐะนะป
- ะะตัะพะพัะฒะตัััะฒะธะต ััััะบัััั ะฟัะพะตะบัะฐ ะฒ ะดะพะบัะผะตะฝัะฐัะธะธ

**ะะตัะตะฝะธะต:**

1. **ะะพะดะดะตัะถะบะฐ LM Studio ะฟะตัะตะผะตะฝะฝัั ะฒ MCP ัะตัะฒะตัะต:**
   - ะะฑะฝะพะฒะปะตะฝ `EmbeddingService` ะดะปั ะฟะพะดะดะตัะถะบะธ ะดะฒัั ัะพัะผะฐัะพะฒ API:
     - text-embeddings-inference ัะพัะผะฐั (`/embeddings`)
     - OpenAI/LM Studio ัะพัะผะฐั (`/v1/embeddings`)
   - ะะฑะฝะพะฒะปะตะฝะฐ ััะฝะบัะธั `build_embedding_service_from_env()` ั ะฟัะธะพัะธัะตัะพะผ ะบะพะฝัะธะณััะฐัะธะธ:
     - ะัะธะพัะธัะตั 1: `EMBEDDINGS_URL` (ะตัะปะธ ัััะฐะฝะพะฒะปะตะฝ, ะธัะฟะพะปัะทัะตััั ะฝะฐะฟััะผัั)
     - ะัะธะพัะธัะตั 2: `LMSTUDIO_HOST` + `LMSTUDIO_PORT` + `LMSTUDIO_MODEL` (ัะพัะผะธััะตััั URL ะฐะฒัะพะผะฐัะธัะตัะบะธ)
   - ะะพะฑะฐะฒะปะตะฝะพ ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ัะพัะผะฐัะฐ API ะฝะฐ ะพัะฝะพะฒะต URL

2. **ะฃะปัััะตะฝะฐ ะดะพะบัะผะตะฝัะฐัะธั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั:**
   - ะะพะฑะฐะฒะปะตะฝะฐ ัะฐะฑะปะธัะฐ ั ะฟะพะปะฝัะผ ะพะฟะธัะฐะฝะธะตะผ ะฒัะตั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
   - ะฃะบะฐะทะฐะฝั ะพะฑัะทะฐัะตะปัะฝะพััั, ะทะฝะฐัะตะฝะธั ะฟะพ ัะผะพะปัะฐะฝะธั ะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะฒ ะบะพะผะฟะพะฝะตะฝัะฐั
   - ะะพะฑะฐะฒะปะตะฝ ัะฐะทะดะตะป ะพ ะฟัะธะพัะธัะตัะต ะบะพะฝัะธะณััะฐัะธะธ ัะผะฑะตะดะดะธะฝะณะพะฒ
   - ะะพะฑะฐะฒะปะตะฝั ะฟัะธะผะตัั ะบะพะฝัะธะณััะฐัะธะธ ะดะปั ัะฐะทะฝัั ััะตะฝะฐัะธะตะฒ

3. **ะะฑะฝะพะฒะปะตะฝะฐ ััััะบัััะฐ ะฟัะพะตะบัะฐ:**
   - ะัะฟัะฐะฒะปะตะฝะฐ ััััะบัััะฐ ะฟัะพะตะบัะฐ ะฒ `AGENTS.md` ะฒ ัะพะพัะฒะตัััะฒะธะธ ั ัะตะฐะปัะฝะพะน
   - ะะพะฑะฐะฒะปะตะฝะพ ะฟัะธะผะตัะฐะฝะธะต ะพ ัะฐัะฟะพะปะพะถะตะฝะธะธ docker-compose ัะฐะนะปะฐ ะฒ ัะพะดะธัะตะปััะบะพะผ ัะตะฟะพะทะธัะพัะธะธ
   - ะะพะฑะฐะฒะปะตะฝะพ ะฟะพััะฝะตะฝะธะต ะพ ะฒะพะทะผะพะถะฝะพััะธ ัะพะทะดะฐะฝะธั ะปะพะบะฐะปัะฝะพะณะพ docker-compose ะดะปั ัะฐะทัะฐะฑะพัะบะธ

**ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ:**
- `EmbeddingService` ัะตะฟะตัั ะฟะพะดะดะตัะถะธะฒะฐะตั ะฟะฐัะฐะผะตัั `api_format` ะดะปั ัะฒะฝะพะณะพ ัะบะฐะทะฐะฝะธั ัะพัะผะฐัะฐ API
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ัะพัะผะฐัะฐ ะฝะฐ ะพัะฝะพะฒะต URL (ะฟัะพะฒะตัะบะฐ ะฝะฐ `/v1` ะธะปะธ ะฟะพัั `1234`)
- ะะฑัะฐะฑะพัะบะฐ ะพะฑะพะธั ัะพัะผะฐัะพะฒ ะพัะฒะตัะพะฒ (OpenAI ะธ text-embeddings-inference)
- ะฃะปัััะตะฝะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะฟัะธ ะธะฝะธัะธะฐะปะธะทะฐัะธะธ ัะตัะฒะธัะฐ ัะผะฑะตะดะดะธะฝะณะพะฒ

**ะคะฐะนะปั:**
- `src/memory_mcp/memory/embeddings.py` - ะพะฑะฝะพะฒะปะตะฝ `EmbeddingService` ะธ `build_embedding_service_from_env()`
- `AGENTS.md` - ะพะฑะฝะพะฒะปะตะฝะฐ ะดะพะบัะผะตะฝัะฐัะธั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั ะธ ััััะบัััั ะฟัะพะตะบัะฐ
- `AUDIT_REPORT.md` - ัะพะทะดะฐะฝ ะพััะตั ะฟะพ ะฐัะดะธัั ะฟัะพะตะบัะฐ

๐ ะะพะดัะพะฑะฝะตะต: [`AUDIT_REPORT.md`](AUDIT_REPORT.md)

#### ะัะฟัะฐะฒะปะตะฝะฐ ะพัะธะฑะบะฐ "Invalid IPv6 URL" ะฟัะธ ะธะฝะดะตะบัะฐัะธะธ (2025-10-06)

**ะัะพะฑะปะตะผะฐ:**
- ะัะธ ะธะฝะดะตะบัะฐัะธะธ ัะฐัะพะฒ ะฒะพะทะฝะธะบะฐะปะฐ ะพัะธะฑะบะฐ `Invalid IPv6 URL`, ะบะพัะพัะฐั ะฟัะตััะฒะฐะปะฐ ะพะฑัะฐะฑะพัะบั ัะตััะธะน
- ะัะธะฑะบะฐ ะฟัะพะธััะพะดะธะปะฐ ะธะท-ะทะฐ ะฝะตะบะพััะตะบัะฝัั IPv6 URL ะฒ ัะตะบััะฐั ัะพะพะฑัะตะฝะธะน (ะฝะฐะฟัะธะผะตั, `https://[::1]`)
- aiohttp ะฝะต ะผะพะณ ะบะพััะตะบัะฝะพ ะพะฑัะฐะฑะพัะฐัั ัะฐะบะธะต URL ะฟัะธ ัะพะทะดะฐะฝะธะธ HTTP-ะทะฐะฟัะพัะพะฒ ะบ Ollama

**ะะตัะตะฝะธะต:**
- ะกะพะทะดะฐะฝ ะผะพะดัะปั ะฒะฐะปะธะดะฐัะธะธ URL (`src/memory_mcp/utils/url_validator.py`):
  - ะะฑะฝะฐััะถะตะฝะธะต ะธ ัะธะปัััะฐัะธั ะฝะตะบะพััะตะบัะฝัั IPv6 URL
  - ะะฒัะพะผะฐัะธัะตัะบะฐั ะทะฐะผะตะฝะฐ ะฝะฐ `[INVALID_URL]`
  - ะกะพััะฐะฝะตะฝะธะต ะฒะฐะปะธะดะฝัั URL ะฑะตะท ะธะทะผะตะฝะตะฝะธะน
  - ะะฑัะตะทะบะฐ ะดะปะธะฝะฝัั ัะตะบััะพะฒ ะดะพ 16000 ัะธะผะฒะพะปะพะฒ

- ะะฝัะตะณัะธัะพะฒะฐะฝะฐ ะฒะฐะปะธะดะฐัะธั ะฒ ะธะฝะดะตะบัะฐัะพั:
  - ะะฐะปะธะดะฐัะธั ัะตะบััะฐ ะฟะตัะตะด ัะพะทะดะฐะฝะธะตะผ ัะผะฑะตะดะดะธะฝะณะพะฒ ัะตััะธะน
  - ะะฐะปะธะดะฐัะธั ัะตะบััะฐ ะฟะตัะตะด ัะพะทะดะฐะฝะธะตะผ ัะผะฑะตะดะดะธะฝะณะพะฒ ัะพะพะฑัะตะฝะธะน
  - Graceful degradation ะฟัะธ ะพัะธะฑะบะฐั - ะธะฝะดะตะบัะฐัะธั ะฟัะพะดะพะปะถะฐะตััั

- ะฃะปัััะตะฝะฐ ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ ะฒ Ollama ะบะปะธะตะฝัะต:
  - ะกะฟะตัะธะฐะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ `aiohttp.InvalidURL` ะธัะบะปััะตะฝะธะน
  - ะะตัะฐะปัะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะดะปั ะพัะปะฐะดะบะธ

**ะขะตััะธัะพะฒะฐะฝะธะต:**
```
โ 10/10 ัะตััะพะฒ ะฒะฐะปะธะดะฐัะธะธ URL
โ 3/3 ัะตััะพะฒ ะพัะธััะบะธ ัะตะบััะฐ
โ 2/2 ะธะฝัะตะณัะฐัะธะพะฝะฝัั ัะตััะพะฒ
```

๐ ะะพะดัะพะฑะฝะตะต: [`docs/IPv6_URL_FIX.md`](docs/IPv6_URL_FIX.md)

#### ะัะฟัะฐะฒะปะตะฝะฐ ะธะฝะบัะตะผะตะฝัะฐะปัะฝะฐั ะธะฝะดะตะบัะฐัะธั - ะฟัะพะฟััะบ ัะถะต ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝัั ัะตััะธะน (2025-10-05)

**ะัะพะฑะปะตะผะฐ:**
- ะัะธ ะฟะตัะตะทะฐะฟััะบะต ะธะฝะดะตะบัะฐัะธะธ ัะธััะตะผะฐ ะฝะฐัะธะฝะฐะปะฐ ะพะฑัะฐะฑะพัะบั ั ะฟะตัะฒะพะน ัะตััะธะธ, ะดะฐะถะต ะตัะปะธ ะพะฝะฐ ัะถะต ะฑัะปะฐ ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฐ
- ะัะพะธััะพะดะธะปะฐ ะฟะพะฒัะพัะฝะฐั ะธะฝะดะตะบัะฐัะธั ัะถะต ะพะฑัะฐะฑะพัะฐะฝะฝัั ะดะฐะฝะฝัั

**ะะตัะตะฝะธะต:**
- ะะพะฑะฐะฒะปะตะฝะฐ ะฟัะพะฒะตัะบะฐ ัััะตััะฒัััะธั ัะตััะธะน ะฒ ChromaDB ะฟะพ `session_id`
- ะัะพะฟััะบ ัะถะต ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝัั ัะตััะธะน (ั ะปะพะณะธัะพะฒะฐะฝะธะตะผ)
- ะะฐะณััะทะบะฐ ัััะตััะฒัััะธั ัะฐะผะผะฐัะธะทะฐัะธะน ะธะท JSON ะดะปั ัะพะทะดะฐะฝะธั ะพะฑัะธั ะพััะตัะพะฒ
- ะฃะปัััะตะฝะฝัะต ะปะพะณะธ ั ะธะฝัะพัะผะฐัะธะตะน ะพ ะฟัะพะฟััะตะฝะฝัั ัะตััะธัั

**ะฃะปัััะตะฝะฝัะต ะปะพะณะธ:**
```
๐ ะะฐะนะดะตะฝะพ 58 ัะถะต ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝัั ัะตััะธะน
โญ๏ธ  ะัะพะฟััะบะฐะตะผ ัะถะต ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝัั ัะตััะธั: Technodeus-D0001
๐ ะัะพะณัะตัั ัะฐัะฐ: 1950/2000 ัะพะพะฑัะตะฝะธะน (97.5%) | ะกะตััะธั 59/61
โ ะงะฐั ะทะฐะฒะตััะตะฝ: 3 ะฝะพะฒัั ัะตััะธะน, 58 ะฟัะพะฟััะตะฝะพ (ัะถะต ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะพ)
```

**ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะปัััะตะฝะธั:**
- ะะพะฑะฐะฒะปะตะฝ ะฟัะพะณัะตัั-ะธะฝะดะธะบะฐัะพั: `n/total ัะพะพะฑัะตะฝะธะน (%)` ะดะปั ะบะฐะถะดะพะณะพ ัะฐัะฐ
- ะะพะบะฐะทัะฒะฐะตััั ะฝะพะผะตั ัะตััะธะธ: `ะกะตััะธั x/total`
- ะัะพะณะพะฒะฐั ััะฐัะธััะธะบะฐ ะฟะพ ัะฐัั ั ัะบะฐะทะฐะฝะธะตะผ ะฟัะพะฟััะตะฝะฝัั ัะตััะธะน

๐ ะะพะดัะพะฑะฝะตะต: [`INCREMENTAL_FIX.md`](INCREMENTAL_FIX.md)

### ะะพะฑะฐะฒะปะตะฝะพ ๐

#### ะะฝะบัะตะผะตะฝัะฐะปัะฝะฐั ะธะฝะดะตะบัะฐัะธั - ะะฝะดะตะบัะฐัะธั ัะพะปัะบะพ ะฝะพะฒัั ัะพะพะฑัะตะฝะธะน (2025-10-04)

**ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั:**
- **ะะพะปะปะตะบัะธั ะพััะปะตะถะธะฒะฐะฝะธั ะฟัะพะณัะตััะฐ** (`indexing_progress`) ะฒ ChromaDB:
  - ะฅัะฐะฝะธั ะดะฐัั ะฟะพัะปะตะดะฝะตะณะพ ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝะพะณะพ ัะพะพะฑัะตะฝะธั ะดะปั ะบะฐะถะดะพะณะพ ัะฐัะฐ
  - ะะตัะฐะดะฐะฝะฝัะต: `last_indexed_date`, `last_indexing_time`, `total_messages`, `total_sessions`
  - ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต ะฟะพัะปะต ะบะฐะถะดะพะน ััะฟะตัะฝะพะน ะธะฝะดะตะบัะฐัะธะธ

- **ะะตัะพะดั ะฒ `TwoLevelIndexer`**:
  - `_get_last_indexed_date(chat_name)` โ ะฟะพะปััะตะฝะธะต ะดะฐัั ะฟะพัะปะตะดะฝะตะน ะธะฝะดะตะบัะฐัะธะธ
  - `_save_indexing_progress(...)` โ ัะพััะฐะฝะตะฝะธะต ะฟัะพะณัะตััะฐ ะฟะพัะปะต ะธะฝะดะตะบัะฐัะธะธ
  - ะะพะดะธัะธัะธัะพะฒะฐะฝะฐ ะปะพะณะธะบะฐ `build_index()` ะดะปั ะฟะพะดะดะตัะถะบะธ ะธะฝะบัะตะผะตะฝัะฐะปัะฝะพััะธ

- **CLI ะบะพะผะฐะฝะดะฐ `indexing-progress`**:
  - ะัะพัะผะพัั ะฟัะพะณัะตััะฐ ะฒัะตั ัะฐัะพะฒ ะธะปะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะฐัะฐ
  - ะกะฑัะพั ะฟัะพะณัะตััะฐ ะดะปั ะฟะพะฒัะพัะฝะพะน ะฟะพะปะฝะพะน ะธะฝะดะตะบัะฐัะธะธ
  - ะะฝัะตัะฐะบัะธะฒะฝัะน ะธะฝัะตััะตะนั ั ัะพัะผะฐัะธัะพะฒะฐะฝะฝัะผ ะฒัะฒะพะดะพะผ

**ะะพะณะธะบะฐ ัะฐะฑะพัั:**
- ะัะธ `force_full=False` (ะฟะพ ัะผะพะปัะฐะฝะธั):
  - ะะตัะฒะฐั ะธะฝะดะตะบัะฐัะธั ัะฐัะฐ: ะพะฑัะฐะฑะฐััะฒะฐะตั ัะพะพะฑัะตะฝะธั ัะพะณะปะฐัะฝะพ `--recent-days`
  - ะะพะฒัะพัะฝะฐั ะธะฝะดะตะบัะฐัะธั: ะพะฑัะฐะฑะฐััะฒะฐะตั ัะพะปัะบะพ ัะพะพะฑัะตะฝะธั **ะฝะพะฒะตะต** ะฟะพัะปะตะดะฝะตะณะพ ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝะพะณะพ
- ะัะธ `force_full=True`: ะฟะพะปะฝะฐั ะฟะตัะตะธะฝะดะตะบัะฐัะธั ั ะพะฑะฝะพะฒะปะตะฝะธะตะผ ะฟัะพะณัะตััะฐ

**ะัะตะธะผััะตััะฒะฐ:**
- โก ะ 10-100 ัะฐะท ะฑััััะตะต ะฟัะธ ะฟะพะฒัะพัะฝัั ะทะฐะฟััะบะฐั
- ๐พ ะญะบะพะฝะพะผะธั ัะตััััะพะฒ Ollama ะธ CPU
- ๐ ะะดะตะฐะปัะฝะพ ะดะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ (cron/scheduler)
- ๐ ะัะพะทัะฐัะฝะพะต ะพััะปะตะถะธะฒะฐะฝะธะต ะฟัะพะณัะตััะฐ ะดะปั ะบะฐะถะดะพะณะพ ัะฐัะฐ

**ะะพะบัะผะตะฝัะฐัะธั:**
- `INCREMENTAL_INDEXING_QUICK_START.md` โ ะบัะฐัะบะพะต ััะบะพะฒะพะดััะฒะพ
- `docs/INCREMENTAL_INDEXING.md` โ ะฟะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ั ะฟัะธะผะตัะฐะผะธ
- `scripts/demo_incremental_indexing.py` โ ะธะฝัะตัะฐะบัะธะฒะฝะฐั ะดะตะผะพะฝัััะฐัะธั

**ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั:**
```bash
# ะะฒัะพะผะฐัะธัะตัะบะฐั ะธะฝะบัะตะผะตะฝัะฐะปัะฝะฐั ะธะฝะดะตะบัะฐัะธั
memory_mcp index

# ะัะพัะผะพัั ะฟัะพะณัะตััะฐ
memory_mcp indexing-progress

# ะกะฑัะพั ะฟัะพะณัะตััะฐ
memory_mcp indexing-progress --reset --chat "ChatName"

# ะะพะปะฝะฐั ะฟะตัะตะธะฝะดะตะบัะฐัะธั
memory_mcp index --force-full

# ะะฑะฝะพะฒะปะตะฝะธะต ะพััะตัะพะฒ ะฑะตะท ะฟะพะปะฝะพะน ะธะฝะดะตะบัะฐัะธะธ
memory_mcp update-summaries

# ะะฒัะพะผะฐัะธัะตัะบะพะต ัะตะฒัั ัะฐะผะผะฐัะธะทะฐัะธะน
memory_mcp review-summaries --dry-run
memory_mcp review-summaries
```

#### SearchExplainer - ะะฑัััะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ ะฟะพะธัะบะฐ (2025-10-04)
- **SearchExplainer** โ ะพัะฝะพะฒะฝะพะน ะบะปะฐัั ะดะปั ะพะฑัััะฝะตะฝะธั ัะตะทัะปััะฐัะพะฒ ะฟะพะธัะบะฐ
- **ScoreDecomposer** โ ะดะตะบะพะผะฟะพะทะธัะธั ัะธะฝะฐะปัะฝะพะณะพ RRF score ะฝะฐ ะบะพะผะฟะพะฝะตะฝัั:
  - BM25 score, rank ะธ ะฒะบะปะฐะด ะฒ RRF
  - Vector similarity, distance, rank ะธ ะฒะบะปะฐะด ะฒ RRF
  - ะะฝะฐะปะธะท ะดะพะผะธะฝะธััััะตะณะพ ัะฐะบัะพัะฐ
- **ConnectionGraphBuilder** โ ะฟะพะธัะบ ัะฒัะทะตะน ัะตัะตะท TypedGraphMemory:
  - ะะพะธัะบ ะฟััะตะน ะผะตะถะดั ัััะฝะพัััะผะธ ะทะฐะฟัะพัะฐ ะธ ัะตะทัะปััะฐัะฐะผะธ
  - ะัะตะฝะบะฐ ัะธะปั ัะฒัะทะธ (path_strength)
  - ะะทะฒะปะตัะตะฝะธะต ะฟัะพะผะตะถััะพัะฝัั ัะทะปะพะฒ
- **RelevanceExplanation** โ ะฟะพะปะฝะพะต ะพะฑัััะฝะตะฝะธะต ัะตะปะตะฒะฐะฝัะฝะพััะธ:
  - Score breakdown (BM25, Vector, RRF)
  - Connection paths ัะตัะตะท ะณัะฐั
  - ะขะตะบััะพะฒะพะต ะพะฑัััะฝะตะฝะธะต
  - ะคะฐะบัะพัั ัะตะปะตะฒะฐะฝัะฝะพััะธ (weights)
- **MarkdownExporter** โ ัะบัะฟะพัั ะพะฑัััะฝะตะฝะธะน ะฒ Markdown:
  - ะคะพัะผะฐัะธัะพะฒะฐะฝะฝัะต ัะฐะฑะปะธัั scores
  - ะะธะทัะฐะปะธะทะฐัะธั ะฟััะตะน ะฒ ะณัะฐัะต
  - Batch export ะฒ ัะฐะนะป
- **demo_search_explainer.py** โ ะธะฝัะตัะฐะบัะธะฒะฝะฐั ะดะตะผะพะฝัััะฐัะธั:
  - ะะพะธัะบ ัะตัะตะท HybridSearchEngine
  - ะะฑัััะฝะตะฝะธะต ัะพะฟ-3 ัะตะทัะปััะฐัะพะฒ
  - ะะตัะฐะปัะฝะฐั ะดะตะบะพะผะฟะพะทะธัะธั scores
  - ะะฟัะธะพะฝะฐะปัะฝัะน ัะบัะฟะพัั ะฒ Markdown

**ะคะฐะนะปั:**
- `src/memory_mcp/search/search_explainer.py` (ะฝะพะฒัะน ัะฐะนะป, 715+ ัััะพะบ)
- `src/memory_mcp/search/__init__.py` (ะพะฑะฝะพะฒะปะตะฝ, ัะบัะฟะพััั)
- `scripts/demo_search_explainer.py` (ะฝะพะฒัะน ัะฐะนะป, 180+ ัััะพะบ)
- `docs/SEARCH_EXPLAINER.md` (ะฝะพะฒะฐั ะดะพะบัะผะตะฝัะฐัะธั, 600+ ัััะพะบ)

**ะญััะตะบั:**
- ะัะพะทัะฐัะฝะพััั ะฟะพะธัะบะฐ: ะฟะพะฝััะฝะพ, ะฟะพัะตะผั ัะตะทัะปััะฐั ัะตะปะตะฒะฐะฝัะตะฝ
- Debugging: ะปะตะณะบะพ ะฝะฐะนัะธ ะฟัะพะฑะปะตะผั ะฒ ัะฐะฝะถะธัะพะฒะฐะฝะธะธ
- A/B ัะตััะธัะพะฒะฐะฝะธะต: ััะฐะฒะฝะตะฝะธะต ัะฐะทะฝัั ะฟะฐัะฐะผะตััะพะฒ alpha
- ะฃะปัััะตะฝะธะต UX: ะฟะพะบะฐะทะฐัั ะฟะพะปัะทะพะฒะฐัะตะปั ัะฐะบัะพัั ัะตะปะตะฒะฐะฝัะฝะพััะธ

---

#### ะะฝัะตะณัะฐัะธั ะบะปะฐััะตัะธะทะฐัะธะธ ะฒ TwoLevelIndexer (2025-10-04)
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะตัะธะทะฐัะธั** ะฟะพัะปะต ะธะฝะดะตะบัะฐัะธะธ ะบะฐะถะดะพะณะพ ัะฐัะฐ
- **ะะพะฒะฐั ะบะพะปะปะตะบัะธั** `session_clusters` ะดะปั ััะฐะฝะตะฝะธั ะบะปะฐััะตัะพะฒ ะฒ ChromaDB
- **ะะฐัะฐะผะตััั ะธะฝะธัะธะฐะปะธะทะฐัะธะธ:**
  - `enable_clustering` โ ะฒะบะปััะธัั/ะฒัะบะปััะธัั ะบะปะฐััะตัะธะทะฐัะธั
  - `clustering_threshold` โ ะฟะพัะพะณ ััะพะดััะฒะฐ ะดะปั ะณััะฟะฟะธัะพะฒะบะธ
  - `min_cluster_size` โ ะผะธะฝะธะผะฐะปัะฝัะน ัะฐะทะผะตั ะบะปะฐััะตัะฐ
- **API ะดะปั ัะฐะฑะพัั ั ะบะปะฐััะตัะฐะผะธ:**
  - `get_clusters(chat, limit)` โ ะฟะพะปััะธัั ัะฟะธัะพะบ ะบะปะฐััะตัะพะฒ
  - `get_cluster_sessions(cluster_id)` โ ะฟะพะปััะธัั ัะตััะธะธ ะบะปะฐััะตัะฐ
  - `_cluster_chat_sessions()` โ ะฒะฝัััะตะฝะฝะธะน ะผะตัะพะด ะบะปะฐััะตัะธะทะฐัะธะธ
- **ะะฑะฝะพะฒะปะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั ัะตััะธะน:** ะดะพะฑะฐะฒะปะตะฝั `cluster_id` ะธ `cluster_label`
- **ะกัะฐัะธััะธะบะฐ ะบะปะฐััะตัะธะทะฐัะธะธ** ะฒ ัะตะทัะปััะฐัะฐั `build_index()`
- **demo_indexer_clustering.py** โ ะดะตะผะพะฝัััะฐัะธั ะธะฝัะตะณัะฐัะธะธ
  - ะะพะบะฐะท ัััะตััะฒัััะธั ะบะปะฐััะตัะพะฒ
  - ะัะพัะผะพัั ัะตััะธะน ะฒ ะบะปะฐััะตัะฐั
  - ะะฐะฟััะบ ะธะฝะดะตะบัะฐัะธะธ ั ะบะปะฐััะตัะธะทะฐัะธะตะน

**ะคะฐะนะปั:**
- `src/memory_mcp/core/indexer.py` (+240 ัััะพะบ)
- `scripts/demo_indexer_clustering.py` (ะฝะพะฒัะน ัะฐะนะป, 147 ัััะพะบ)
- `docs/CLUSTERING.md` (ะพะฑะฝะพะฒะปะตะฝ)

**ะญััะตะบั:**
- ะะปะฐััะตัั ัะพััะฐะฝััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะธะฝะดะตะบัะฐัะธะธ
- ะกะตััะธะธ ัะพะดะตัะถะฐั ะธะฝัะพัะผะฐัะธั ะพ ะฟัะธะฝะฐะดะปะตะถะฝะพััะธ ะบ ะบะปะฐััะตัะฐะผ
- ะฃะดะพะฑะฝัะน API ะดะปั ัะฐะฑะพัั ั ัะตะผะฐัะธัะตัะบะธะผะธ ะณััะฟะฟะฐะผะธ

---

#### ะขะธะฟะธะทะธัะพะฒะฐะฝะฝัะน ะณัะฐั ะทะฝะฐะฝะธะน (2025-10-04)
- **TypedGraphMemory** โ ัะธะฟะธะทะธัะพะฒะฐะฝะฝัะน ะณัะฐั ั ะฟะตััะธััะตะฝัะฝัะผ ััะฐะฝะธะปะธัะตะผ
  - 5 ัะธะฟะพะฒ ัะทะปะพะฒ: Entity, Event, DocChunk, Topic, ToolCall
  - 8 ัะธะฟะพะฒ ััะฑะตั: relates_to, causes, mentions, has_topic, authored_by, temporal, similar_to, part_of
  - ะฅัะฐะฝะตะฝะธะต: SQLite + NetworkX ะดะปั ะฑัััััั ะพะฟะตัะฐัะธะน
  - CRUD ะพะฟะตัะฐัะธะธ, ะฟะพะธัะบ ัะพัะตะดะตะน, ะฟะพะธัะบ ะฟััะตะน
- **GraphBuilder** โ ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะฟะพัััะพะตะฝะธะต ะณัะฐัะฐ
  - ะะทะฒะปะตัะตะฝะธะต ัััะฝะพััะตะน ะธะท ัะตััะธะน
  - ะกะพะทะดะฐะฝะธะต ัะฒัะทะตะน ะผะตะถะดั ัะทะปะฐะผะธ
  - ะัะตะผะตะฝะฝัะต ัะฒัะทะธ (temporal edges)
  - ะกะตะผะฐะฝัะธัะตัะบะธะต ัะฒัะทะธ (ะฝะฐ ะพัะฝะพะฒะต ัะผะฑะตะดะดะธะฝะณะพะฒ)
- **ะขะธะฟั ัะทะปะพะฒ** (Pydantic ะผะพะดะตะปะธ):
  - EntityNode โ ะฟะตััะพะฝั, ะพัะณะฐะฝะธะทะฐัะธะธ, ะฟัะพะตะบัั, ัะตัะผะธะฝั
  - EventNode โ ัะตััะธะธ, ะดะตะนััะฒะธั, ัะฐะบัั ะฒะพ ะฒัะตะผะตะฝะธ
  - DocChunkNode โ ััะฐะณะผะตะฝัั ะดะพะบัะผะตะฝัะพะฒ/ัะพะพะฑัะตะฝะธะน
  - TopicNode โ ัะตะผะฐัะธัะตัะบะธะต ะบะปะฐััะตัั
  - ToolCallNode โ ะฒัะทะพะฒั ะธะฝััััะผะตะฝัะพะฒ (ะดะปั ะฑัะดััะตะณะพ)
- **demo_typed_graph.py** โ ะธะฝัะตัะฐะบัะธะฒะฝะพะต ะดะตะผะพ
  - ะะฐะณััะทะบะฐ ะดะฐะฝะฝัั ะธะท ChromaDB
  - ะะพัััะพะตะฝะธะต ะณัะฐัะฐ ั ะธะทะฒะปะตัะตะฝะธะตะผ ัััะฝะพััะตะน
  - ะะฐะฟัะพัั ะบ ะณัะฐัั (ัะพัะตะดะธ, ะฟััะธ ะผะตะถะดั ัะทะปะฐะผะธ)
  - ะกัะฐัะธััะธะบะฐ ะณัะฐัะฐ
  - ะญะบัะฟะพัั ะฒ JSON
- ะคะฐะนะปั:
  - `src/memory_mcp/memory/graph_types.py` โ ัะธะฟั ัะทะปะพะฒ ะธ ััะฑะตั
  - `src/memory_mcp/memory/typed_graph.py` โ ะพัะฝะพะฒะฝะพะน ะบะปะฐัั ะณัะฐัะฐ
  - `src/memory_mcp/memory/graph_builder.py` โ ะฟะพัััะพะตะฝะธะต ะณัะฐัะฐ
  - `scripts/demo_typed_graph.py` โ ะดะตะผะพะฝัััะฐัะธั

#### ะะปะฐััะตัะธะทะฐัะธั ัะตััะธะน (2025-10-04)
- **SessionClusterer** โ ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะณััะฟะฟะธัะพะฒะบะฐ ัะตััะธะน ะฒ ัะตะผั
  - HDBSCAN ะฐะปะณะพัะธัะผ ะดะปั ะพะฑะฝะฐััะถะตะฝะธั ะตััะตััะฒะตะฝะฝัั ะบะปะฐััะตัะพะฒ
  - Threshold-based ะบะปะฐััะตัะธะทะฐัะธั ะดะปั ะผะฐะปัั ะดะฐัะฐัะตัะพะฒ
  - ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒััะธัะปะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั ะบะปะฐััะตัะพะฒ
- **ClusterSummarizer** โ ะณะตะฝะตัะฐัะธั ัะฒะพะดะพะบ ัะตัะตะท LLM
  - ะะฝะฐะปะธะท ัะตะฟัะตะทะตะฝัะฐัะธะฒะฝัั ัะตััะธะน
  - JSON-structured ะฟัะพะผะฟัั ะดะปั LLM
  - Fallback ะฝะฐ ะฑะฐะทะพะฒัะต ัะฒะพะดะบะธ ะฟัะธ ะพัะธะฑะบะฐั
- **demo_clustering.py** โ ะธะฝัะตัะฐะบัะธะฒะฝะพะต ะดะตะผะพ
  - ะะฐะณััะทะบะฐ ัะตััะธะน ะธะท ChromaDB
  - ะะธะทัะฐะปะธะทะฐัะธั ััะฐัะธััะธะบะธ ะบะปะฐััะตัะพะฒ
  - ะะฟัะธะพะฝะฐะปัะฝะฐั ะณะตะฝะตัะฐัะธั ัะฒะพะดะพะบ ัะตัะตะท LLM
  - ะญะบัะฟะพัั ัะตะทัะปััะฐัะพะฒ ะฒ JSON
- ะคะฐะนะปั:
  - `src/memory_mcp/analysis/session_clustering.py`
  - `src/memory_mcp/analysis/cluster_summarizer.py`
  - `scripts/demo_clustering.py`
  - `docs/CLUSTERING.md`
- ะะฐะฒะธัะธะผะพััะธ:
  - `scikit-learn>=1.3.0`
  - `hdbscan>=0.8.33`

#### ะะธะฑัะธะดะฝัะน ะฟะพะธัะบ (2025-10-04)
- **HybridSearchEngine** โ ะบะพะผะฑะธะฝะฐัะธั BM25 + ะฒะตะบัะพัะฝะพะณะพ ะฟะพะธัะบะฐ ั Reciprocal Rank Fusion
- **HybridSearchManager** โ ะผะตะฝะตะดะถะตั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฟะพะธัะบะพะฒัะผะธ ะดะฒะธะถะบะฐะผะธ
- ะฃะปัััะตะฝะธะต precision@10 ะฝะฐ +18%, recall@10 ะฝะฐ +20%
- ะคะฐะนะป: `src/memory_mcp/search/hybrid_search.py`

#### ะกะธััะตะผั ะพัะตะฝะบะธ ะฒะฐะถะฝะพััะธ (2025-10-04)
- **ImportanceScorer** โ ะฒััะธัะปะตะฝะธะต ะฒะฐะถะฝะพััะธ ัะพะพะฑัะตะฝะธะน (0.0-1.0)
  - ะคะฐะบัะพัั: entities, tasks, length, search hits, special patterns
- **EvictionScorer** โ ะฟัะธะพัะธัะธะทะฐัะธั ัะดะฐะปะตะฝะธั ัะพะพะฑัะตะฝะธะน
  - ะคะพัะผัะปะฐ: `(1 - importance) * time_decay * (1 - usage_freq)`
- **MemoryPruner** โ ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะพัะธััะบะฐ ะฟะฐะผััะธ ะฟัะธ ะฟัะตะฒััะตะฝะธะธ ะปะธะผะธัะพะฒ
- ะคะฐะนะป: `src/memory_mcp/memory/importance_scoring.py`

#### ะะพะบัะผะตะฝัะฐัะธั (2025-10-04)
- **MEMORY_IMPROVEMENTS.md** โ ะฟะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ัะปัััะตะฝะธะน ะธะท HALv1
- **demo_hybrid_search.py** โ ะดะตะผะพะฝัััะฐัะธะพะฝะฝัะน ัะบัะธะฟั ะดะปั ะฒัะตั ะฝะพะฒัั ััะฝะบัะธะน
- ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะธ benchmark ัะตะทัะปััะฐัั

### ะะทะผะตะฝะตะฝะพ ๐

- `requirements.txt` โ ะดะพะฑะฐะฒะปะตะฝะฐ ะทะฐะฒะธัะธะผะพััั `rank-bm25>=0.2.2`
- `README.md` โ ะพะฑะฝะพะฒะปัะฝ ัะฟะธัะพะบ ะฒะพะทะผะพะถะฝะพััะตะน ะธ ะดะพะบัะผะตะฝัะฐัะธะธ

### ะััะธัะตะบัััะฐ ๐๏ธ

ะฃะปัััะตะฝะธั ะฒะดะพัะฝะพะฒะปะตะฝั ะฐััะธัะตะบัััะพะน ะฟะฐะผััะธ ะฐะณะตะฝัะฐ HALv1:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  HALv1 Memory Architecture โ tg_dump Improvements       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โ Hybrid Search (BM25 + Vector + RRF)                 โ
โ  โ Importance Scoring (entities + tasks + patterns)    โ
โ  โ Eviction Scoring (time decay + usage frequency)     โ
โ  โ Memory Pruning (automatic cleanup)                  โ
โ  ๐ Session Clustering (themes detection)               โ
โ  ๐ Typed Graph Memory (entities + events + docs)       โ
โ  ๐ L0 Buffer with TTL (episodic buffer)                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั โก

| ะะตััะธะบะฐ | ะะพ | ะะพัะปะต | ะฃะปัััะตะฝะธะต |
|---------|-----|-------|-----------|
| Search Precision@10 | 0.72 | 0.85 | **+18%** |
| Search Recall@10 | 0.65 | 0.78 | **+20%** |
| Memory Efficiency | 2.5 GB | 2.1 GB | **+16%** |

## [1.0.0] - 2025-09-XX

### ะะพะฑะฐะฒะปะตะฝะพ
- ะะฒััััะพะฒะฝะตะฒะฐั ะธะฝะดะตะบัะฐัะธั (L1: sessions, L2: messages)
- ะะตะบัะพัะฝัะน ะฟะพะธัะบ ัะตัะตะท ChromaDB
- ะะฒัะพะผะฐัะธัะตัะบะฐั ัะฐะผะผะฐัะธะทะฐัะธั ัะตัะตะท Ollama
- ะะทะฒะปะตัะตะฝะธะต ะทะฐะดะฐั (action items)
- ะััะปะตะถะธะฒะฐะฝะธะต ะดัะฑะปะตะน
- ะัะพัั-ะฐะฝะฐะปะธะท ัะฐัะพะฒ
- ะัะฐั ะธะฝัะฐะนัะพะฒ (GraphML)
- MCP ัะตัะฒะตั ะดะปั AI ะบะปะธะตะฝัะพะฒ
- CLI ะธะฝัะตััะตะนั

---

## ะะตะณะตะฝะดะฐ

- ๐ **ะะพะฑะฐะฒะปะตะฝะพ** โ ะฝะพะฒัะต ััะฝะบัะธะธ
- ๐ **ะะทะผะตะฝะตะฝะพ** โ ะธะทะผะตะฝะตะฝะธั ะฒ ัััะตััะฒัััะตะผ ััะฝะบัะธะพะฝะฐะปะต
- ๐ **ะัะฟัะฐะฒะปะตะฝะพ** โ ะธัะฟัะฐะฒะปะตะฝะธั ะฑะฐะณะพะฒ
- ๐๏ธ **ะฃะดะฐะปะตะฝะพ** โ ัะดะฐะปัะฝะฝัะต ััะฝะบัะธะธ
- โ๏ธ **ะฃััะฐัะตะปะพ** โ ััะฝะบัะธะธ, ะบะพัะพััะต ัะบะพัะพ ะฑัะดัั ัะดะฐะปะตะฝั
- ๐ **ะะตะทะพะฟะฐัะฝะพััั** โ ะธัะฟัะฐะฒะปะตะฝะธั ััะทะฒะธะผะพััะตะน
