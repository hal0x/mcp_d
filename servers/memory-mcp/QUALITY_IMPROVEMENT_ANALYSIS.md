# –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ –≤ –ë–î, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞ ‚úÖ
2. **–ì—Ä–∞—Ñ–æ–≤—ã–µ —Å–≤—è–∑–∏**: –°–æ–∑–¥–∞–Ω—ã (1267 —Ä—ë–±–µ—Ä), API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Å–µ–¥–µ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ
3. **Fetch record**: –†–∞–±–æ—Ç–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å–∏ —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏ ‚úÖ
4. **Timeline**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (464 –∑–∞–ø–∏—Å–∏) ‚úÖ
5. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–¥–∞—á**: –û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–¥–∞—á–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ ‚úÖ
6. **FTS5 –ø–æ–∏—Å–∫**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ scores (0.7, 0.69, 0.68...) ‚úÖ

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –í—Å–µ scores –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ (‚âà0.5) –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
   - **–ü—Ä–∏—á–∏–Ω–∞**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ ChromaDB (score=0.5) –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ FTS5 (score=0.3)
   - **–î–µ—Ç–∞–ª–∏**: FTS5 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ scores, –Ω–æ –æ–Ω–∏ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ —Å ChromaDB
   
2. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫**: –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º
   - **–ü—Ä–∏—á–∏–Ω–∞**: –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (Qdrant) –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, ChromaDB –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - **–î–µ—Ç–∞–ª–∏**: –ó–∞–ø—Ä–æ—Å "–°–±–µ—Ä —Å–Ω–∏–∂–∞–µ—Ç —Å—Ç–∞–≤–∫–∏" –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–¥–∞—á—É, —Ö–æ—Ç—è –æ–Ω–∞ –µ—Å—Ç—å –≤ –≥—Ä–∞—Ñ–µ
   
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ ChromaDB –¥–æ–º–∏–Ω–∏—Ä—É—é—Ç**: 9 –∏–∑ 10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ ChromaDB –≤–º–µ—Å—Ç–æ FTS5
   - **–ü—Ä–∏—á–∏–Ω–∞**: ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ scores (0.5), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö –≤—ã—à–µ –ø—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ
   - **–î–µ—Ç–∞–ª–∏**: FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (score=0.3) —Ç–µ—Ä—è—é—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ scores

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ scores –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç score ‚âà 0.5
- –ù–µ—Ç —Ä–∞–∑–ª–∏—á–∏–π –≤ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- FTS5 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ scores (0.7000, 0.6959, 0.6918...), –Ω–æ –æ–Ω–∏ —Ç–µ—Ä—è—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:**
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ ChromaDB –∏–º–µ—é—Ç score 0.5 (–¥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è –Ω–∞ 0.3), –∏ –æ–Ω–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ FTS5 –ø—Ä–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ:
1. FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ scores (0.3, 0.298, 0.296...)
2. ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç score 0.5 (–¥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è –Ω–∞ 0.3 = 0.15)
3. –ü—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ ChromaDB –º–æ–≥—É—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –≤—ã—à–µ –∏–∑-–∑–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö scores

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—É–≤–µ–ª–∏—á–∏—Ç—å `_fts_weight`)
2. –£–º–µ–Ω—å—à–∏—Ç—å –≤–µ—Å ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—É–º–µ–Ω—å—à–∏—Ç—å –º–Ω–æ–∂–∏—Ç–µ–ª—å 0.3)
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è, —á—Ç–æ–±—ã FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ–ª–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ó–∞–ø—Ä–æ—Å "–°–±–µ—Ä —Å–Ω–∏–∂–∞–µ—Ç —Å—Ç–∞–≤–∫–∏ —Å–µ–º–µ–π–Ω–∞—è –∏–ø–æ—Ç–µ–∫–∞" –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–¥–∞—á—É `semya-old-S0009-T02`
- –ó–∞–ø—Ä–æ—Å "–∑–∞–º–æ—Ä–æ–∑–∏—Ç—å –≤–∫–ª–∞–¥—ã" –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- –ó–∞–ø—Ä–æ—Å "—è–π—Ü–∞ –∞–≤–æ–∫–∞–¥–æ eggselent" –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏

**–ü—Ä–∏—á–∏–Ω—ã:**
1. **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: Qdrant –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (`QDRANT_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. **FTS5 –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ —Å–µ–º–∞–Ω—Ç–∏–∫–µ**: FTS5 —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ —Ç–æ—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º —Å–ª–æ–≤
3. **–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—è –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç**: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ–≤ –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
4. **ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã**: ChromaDB –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ scores

**–†–µ—à–µ–Ω–∏–µ:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Qdrant –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
2. –£–ª—É—á—à–∏—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫: FTS5 (—Ç–æ—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è) + Vector (—Å–µ–º–∞–Ω—Ç–∏–∫–∞)
3. –£–ª—É—á—à–∏—Ç—å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ: —É—á–∏—Ç—ã–≤–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
4. –î–æ–±–∞–≤–∏—Ç—å boost –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤ FTS5

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ì—Ä–∞—Ñ–æ–≤—ã–µ —Å–≤—è–∑–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- `get_graph_neighbors` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Å–µ–¥–µ–π
- –°–≤—è–∑–∏ —Å–æ–∑–¥–∞–Ω—ã (1267 —Ä—ë–±–µ—Ä)
- API —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Fetch record –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- `fetch_record` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å–∏ —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∑–∞–ø–∏—Å–µ–π –∏–∑ –≥—Ä–∞—Ñ–∞ –∏ ChromaDB

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∫–∞—á–µ—Å—Ç–≤–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 1.1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ ChromaDB –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ FTS5

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –í adapters.py, –º–µ—Ç–æ–¥ search()
# –ü—Ä–æ–±–ª–µ–º–∞: ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç score 0.5, —á—Ç–æ –≤—ã—à–µ FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (0.3)
# –†–µ—à–µ–Ω–∏–µ 1: –£–≤–µ–ª–∏—á–∏—Ç—å –≤–µ—Å FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
_fts_weight = 0.8  # –±—ã–ª–æ 0.4286 (0.6 / 1.4)
_vector_weight = 0.2  # –±—ã–ª–æ 0.5714 (0.8 / 1.4)

# –†–µ—à–µ–Ω–∏–µ 2: –£–º–µ–Ω—å—à–∏—Ç—å –≤–µ—Å ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
chromadb_score = match.score * 0.05  # –±—ã–ª–æ 0.3, —Ç–µ–ø–µ—Ä—å 0.5 * 0.05 = 0.025

# –†–µ—à–µ–Ω–∏–µ 3: –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è - FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
# –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ FTS5
if existing:
    # FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º –∏—Ö ChromaDB
    if existing.score > 0.2:  # –≠—Ç–æ FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç (score > 0.2)
        continue  # –ù–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º
    # –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ (–≤ 2 —Ä–∞–∑–∞)
    if score > existing.score * 2.0:
        existing.score = score
    continue
```

#### 1.2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (Qdrant)

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è Qdrant

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `QDRANT_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Qdrant –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Qdrant –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

#### 1.3. –£–ª—É—á—à–∏—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫

**–ü—Ä–æ–±–ª–µ–º–∞:** FTS5 –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Reciprocal Rank Fusion (RRF) –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
2. –£—á–∏—Ç—ã–≤–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å boost –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤ FTS5

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –£–ª—É—á—à–µ–Ω–∏–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

#### 2.1. –£–ª—É—á—à–∏—Ç—å –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ë–∞–∑–æ–≤–∞—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞

**–£–ª—É—á—à–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–ª–æ–≤
2. –£–ª—É—á—à–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pymorphy2 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ñ–æ—Ä–º —Å–ª–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–∏–Ω–æ–Ω–∏–º–∞–º–∏

#### 2.2. –£–ª—É—á—à–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ FTS5, –Ω–æ –Ω–µ –ø–æ–º–æ–≥–∞—é—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É –ø–æ–∏—Å–∫—É

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω–æ–Ω–∏–º—ã –≤ –∏–Ω–¥–µ–∫—Å FTS5
2. –£–ª—É—á—à–∏—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –ª—É—á—à–µ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

#### 2.3. –£–ª—É—á—à–∏—Ç—å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ scores

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π score: FTS5 + Vector + Boost
2. –î–æ–±–∞–≤–∏—Ç—å boost –¥–ª—è:
   - –¢–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö/–º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
   - –ù–µ–¥–∞–≤–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π (recency boost)
   - –ó–∞–ø–∏—Å–µ–π —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–≤—è–∑–µ–π (authority boost)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å learning-to-rank –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 3.1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
2. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

#### 3.2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ë–∞—Ç—á–∏–Ω–≥ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
3. –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

#### 4.1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å CTR (click-through rate) –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
2. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
3. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
4. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### 4.2. –î–æ–±–∞–≤–∏—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–µ—Å–∞ –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
3. –°–æ–±–∏—Ä–∞—Ç—å feedback –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

### –®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å—Ä–æ—á–Ω–æ) üî¥

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ ChromaDB (score=0.5) –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ FTS5 (score=0.3)

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á–∏—Ç—å `_fts_weight` –¥–æ 0.8 (–±—ã–ª–æ 0.4286)
2. –£–º–µ–Ω—å—à–∏—Ç—å –≤–µ—Å ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–æ 0.05 (–±—ã–ª–æ 0.3)
3. –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è: FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
4. –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –µ—Å–ª–∏ FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –µ—Å—Ç—å
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤ —Ç–æ–ø–µ, scores –±—É–¥—É—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (—Å—Ä–æ—á–Ω–æ) üî¥

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è Qdrant

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `QDRANT_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://qdrant:6333`)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Qdrant
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Qdrant –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
5. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –≤ –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ —Å–º—ã—Å–ª—É

### –®–∞–≥ 3: –£–ª—É—á—à–∏—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (–≤–∞–∂–Ω–æ)

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å RRF –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å boost –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
3. –£–ª—É—á—à–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é scores
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

### –®–∞–≥ 4: –£–ª—É—á—à–∏—Ç—å –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—é (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

1. –î–æ–±–∞–≤–∏—Ç—å pymorphy2 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ñ–æ—Ä–º —Å–ª–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–ª–æ–≤
3. –£–ª—É—á—à–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π:

1. **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ**: Scores –±—É–¥—É—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤—ã—à–µ
2. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫**: –ë—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ —Å–º—ã—Å–ª—É
3. **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å**: –£–ª—É—á—à–∏—Ç—Å—è –Ω–∞ 30-50%
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —É–º–µ–Ω—å—à–∏—Ç—Å—è –Ω–∞ 20-30%

## –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π

1. **Precision@10**: –î–æ–ª—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–æ–ø-10
2. **Recall@10**: –î–æ–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
3. **NDCG@10**: –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à
4. **MRR**: Mean Reciprocal Rank
5. **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚úÖ
   - –£–≤–µ–ª–∏—á–µ–Ω –≤–µ—Å FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–æ 0.8 (–±—ã–ª–æ 0.4286)
   - –£–º–µ–Ω—å—à–µ–Ω –≤–µ—Å ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–æ 0.05 (–±—ã–ª–æ 0.3)
   - –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è: FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   - Scores —Ç–µ–ø–µ—Ä—å —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è (0.8 –¥–ª—è FTS5, 0.5 –¥–ª—è ChromaDB)

2. **–ü–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å–∏** ‚úÖ
   - FTS5 –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å–∏ –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–æ–ø-—Å–ª–æ–≤ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
   - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ç–æ–ø–µ

3. **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç** ‚úÖ
   - 100% –ø–æ–∫—Ä—ã—Ç–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
   - –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞
   - Fetch record –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏

4. **–ì—Ä–∞—Ñ–æ–≤—ã–µ —Å–≤—è–∑–∏ —Ä–∞–±–æ—Ç–∞—é—Ç** ‚úÖ
   - `get_graph_neighbors` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Å–µ–¥–µ–π
   - –°–≤—è–∑–∏ —Å–æ–∑–¥–∞–Ω—ã (1267 —Ä—ë–±–µ—Ä)
   - API —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

5. **Fetch record —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚úÖ
   - `fetch_record` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å–∏ —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
   - –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∑–∞–ø–∏—Å–µ–π –∏–∑ –≥—Ä–∞—Ñ–∞ –∏ ChromaDB

### ‚ö†Ô∏è –û—Å—Ç–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

1. **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è Qdrant
   - `QDRANT_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
   - –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
   - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–ª—å–∫–æ FTS5)

2. **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç –∑–∞–ø–∏—Å–∏**
   - –ó–∞–ø—Ä–æ—Å—ã —Å —Ä–µ–¥–∫–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –º–æ–≥—É—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –∑–∞–ø–∏—Å–∏
   - FTS5 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AND –ª–æ–≥–∏–∫—É, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è –≤—Å–µ—Ö —Å–ª–æ–≤
   - –ù—É–∂–Ω–∞ –±–æ–ª–µ–µ –≥–∏–±–∫–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ (OR –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª–æ–≤)

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚úÖ
   - –£–≤–µ–ª–∏—á–µ–Ω –≤–µ—Å FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–æ 0.8 (–±—ã–ª–æ 0.4286)
   - –£–º–µ–Ω—å—à–µ–Ω –≤–µ—Å ChromaDB —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–æ 0.05 (–±—ã–ª–æ 0.3)
   - –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è: FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: Scores —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ç–æ–ø–µ

2. **–£–ª—É—á—à–µ–Ω –ø–æ–∏—Å–∫** ‚úÖ
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–æ–ø-—Å–ª–æ–≤ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
   - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–µ–π
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: –ü–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Qdrant –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞** (–∫—Ä–∏—Ç–∏—á–Ω–æ) üî¥
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `QDRANT_URL`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Qdrant
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Qdrant
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ —Å–º—ã—Å–ª—É

2. **–£–ª—É—á—à–∏—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** (–≤–∞–∂–Ω–æ) üü°
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å RRF –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å boost –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
   - –£–ª—É—á—à–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é scores
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –ï—â–µ –ª—É—á—à–µ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

3. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤** (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ) üü¢
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –≥–∏–±–∫—É—é –ª–æ–≥–∏–∫—É (OR –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª–æ–≤)
   - –£–ª—É—á—à–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Å—Ç–æ–ø-—Å–ª–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–ª–æ–≤
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –ë–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏

### ‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ**: ‚úÖ Scores —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ç–æ–ø–µ
2. **–ü–æ–∏—Å–∫**: ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º
3. **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏**: ‚úÖ 100% –ø–æ–∫—Ä—ã—Ç–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
4. **–ì—Ä–∞—Ñ–æ–≤—ã–µ —Å–≤—è–∑–∏**: ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
5. **Fetch record**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

1. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫**: –ë—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ —Å–º—ã—Å–ª—É (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Qdrant)
2. **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å**: –£–ª—É—á—à–∏—Ç—Å—è –µ—â–µ –Ω–∞ 20-30% (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Qdrant)
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º –∏–ª–∏ —É–ª—É—á—à–∏—Ç—Å—è

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- Precision@10: –î–æ–ª—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–æ–ø-10
- Recall@10: –î–æ–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- NDCG@10: –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à
- –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ scores: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö scores –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π —Å–º. –≤ —Ñ–∞–π–ª–µ **`NEXT_STEPS.md`**

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫:**
1. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Qdrant –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞** (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
   - –î–æ–±–∞–≤–ª–µ–Ω `QDRANT_URL=http://localhost:6333` –≤ `.env`
   - Qdrant –ø–æ–¥–∫–ª—é—á–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
2. ‚úÖ **–£–ª—É—á—à–∏—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ —Å RRF** (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `_reciprocal_rank_fusion()` –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω boost 20% –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤ FTS5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
   - RRF –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`_use_rrf = True`)
3. üü° –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
   - –ì–∏–±–∫–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ (OR –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–æ–ø-—Å–ª–æ–≤
4. üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è (–æ–∂–∏–¥–∞–µ—Ç)
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ò–∑–º–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (Precision@10, Recall@10)

